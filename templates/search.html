{% extends "base.html" %}

{% block content %}
<div class="container-fluid p-0">
  
  <section class="resume-section p-3 p-lg-5 d-flex flex-column" id="experience">
    <div class="my-auto">
      <h2 class="mb-5">Search for Wines</h2>

      {% block flash %}
        {{ super() }}
      {% endblock %}
      
      <div class="resume-item d-flex flex-column flex-md-row mb-5">
        <div class="resume-content mr-auto">
          <table>
            <tr>
              <th>Wine Type</th>
              <th>Country</th>
              <th>Region</th>
              <th>Variety</th>
              <th>Winery Name</th>
              <th>Year</th>
              <th>Price</th>
              <th>Cart</th>
            </tr>
            {% for wine in wine_list %}
            <tr>
              <td>{{ wine.wine_type }} </td>
              <td>{{ wine.country }}</td>
              <td>{{ wine.region }}</td>
              <td>{{ wine.variety }}</td>
              <td>{{ wine.winery_name }}</td>
              <td>{{ wine.year }}</td>
              <td>${{ wine.price }}</td>
              <td><button type="button" class="form_button">
                <a href="/add_to_cart/{{ wine.key }}">
                  Add to Cart
                </a>
              </button></td>
            </tr>
            {% endfor %}
          </table>
        </div>
      </div>

      <div class="resume-item d-flex flex-column flex-md-row mb-5">
        <div class="resume-content mr-auto">
          <form method="POST" action="/search">
            {{ form.hidden_tag() }}
            <div class="subheading mb-3">
              {{ form.wine_type.label(class="spacer") }} {{ form.wine_type }}
            </div>
            <div class="subheading mb-3">
              {{ form.country.label }} {{ form.country }}
            </div>
            <div class="subheading mb-3">
              {{ form.region.label }} {{ form.region }}
            </div>
            <div class="subheading mb-3">
              {{ form.variety.label }} {{ form.variety }}
            </div>
            <div class="subheading mb-3">
              {{ form.winery_name.label }} {{ form.winery_name }}
            </div>
            <div class="subheading mb-3">
              {{ form.submit(class="form_button") }}
            </div>
          </form>
    </div>
  </section>

</div>

{% endblock %}